{% extends "base.html" %}
{% block content %}
<main>
  <h1>MY WORKS</h1>
  <p>Here are some small Python-based tools built using Flask:</p>

  <!-- Tabs -->
  <div class="tab-container">
    <button class="tab {% if active_tab == 'uppercase' %}active{% endif %}" onclick="openTab('uppercase')">To Uppercase Converter</button>
    <button class="tab {% if active_tab == 'circle' %}active{% endif %}" onclick="openTab('circle')">Area of Circle</button>
    <button class="tab {% if active_tab == 'triangle' %}active{% endif %}" onclick="openTab('triangle')">Area of Triangle</button>
    <button class="tab {% if active_tab == 'linkedlist' %}active{% endif %}" onclick="openTab('linkedlist')">Linked List Operations</button>
    <button class="tab {% if active_tab == 'infix' %}active{% endif %}" onclick="openTab('infix')">Infix â†’ Postfix Converter</button>
  </div>

  <!-- Uppercase -->
  <div id="uppercase" class="tab-content {% if active_tab == 'uppercase' %}active{% endif %}">
    <form method="POST">
      <input type="hidden" name="active_tab" value="uppercase">
      <input type="text" name="text" placeholder="Enter text..." required>
      <button type="submit">Convert</button>
    </form>
    {% if uppercase_result %}
      <p>Result: {{ uppercase_result }}</p>
    {% endif %}
  </div>

  <!-- Circle -->
  <div id="circle" class="tab-content {% if active_tab == 'circle' %}active{% endif %}">
    <form method="POST">
      <input type="hidden" name="active_tab" value="circle">
      <input type="number" name="radius" placeholder="Enter radius..." required>
      <button type="submit">Compute</button>
    </form>
    {% if circle_area %}
      <p>Area: {{ circle_area }}</p>
    {% endif %}
  </div>

  <!-- Triangle -->
  <div id="triangle" class="tab-content {% if active_tab == 'triangle' %}active{% endif %}">
    <form method="POST">
      <input type="hidden" name="active_tab" value="triangle">
      <input type="number" name="base" placeholder="Enter base..." required>
      <input type="number" name="height" placeholder="Enter height..." required>
      <button type="submit">Compute</button>
    </form>
    {% if triangle_area %}
      <p>Area: {{ triangle_area }}</p>
    {% endif %}
  </div>

  <!-- Linked List -->
  <div id="linkedlist" class="tab-content {% if active_tab == 'linkedlist' %}active{% endif %}">
    <h2>Linked List Operations</h2>
    {% if linked_list_items %}
      <p>{{ " â†’ ".join(linked_list_items) }} â†’ X</p>
    {% else %}
      <p>No items in the list yet.</p>
    {% endif %}

    <form method="POST">
      <input type="hidden" name="active_tab" value="linkedlist">
      <input type="hidden" name="action" value="add">
      <input type="text" name="data" placeholder="Add item">
      <button type="submit">Add</button>
    </form>

    <form method="POST">
      <input type="hidden" name="active_tab" value="linkedlist">
      <input type="hidden" name="action" value="remove_beginning">
      <button type="submit">Remove Beginning</button>
    </form>

    <form method="POST">
      <input type="hidden" name="active_tab" value="linkedlist">
      <input type="hidden" name="action" value="remove_end">
      <button type="submit">Remove End</button>
    </form>
  </div>

  <!-- ðŸ§® Infix â†’ Postfix Converter -->
  <div id="infix" class="tab-content {% if active_tab == 'infix' %}active{% endif %}">
    <h2>ðŸ§® Infix â†’ Postfix Converter</h2>
    <p>Enter an infix expression (e.g. A + B * C):</p>

    <form method="POST">
      <input type="hidden" name="active_tab" value="infix">
      <input type="text" name="expression" placeholder="Enter infix expression..." required>
      <button type="submit">Convert</button>
    </form>

    {% if result %}
      <p><strong>Postfix Expression:</strong> {{ result }}</p>
    {% endif %}
  </div>
</main>

<script>
function openTab(tabId) {
  document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
  document.querySelectorAll('.tab').forEach(btn => btn.classList.remove('active'));
  document.getElementById(tabId).classList.add('active');
  event.currentTarget.classList.add('active');
}
</script>

<style>
main {
  text-align: center;
  padding: 20px;
}
.tab-container {
  margin-bottom: 20px;
}
.tab {
  background: #7b00b4;
  color: white;
  border: none;
  padding: 10px 20px;
  margin: 5px;
  border-radius: 8px;
  cursor: pointer;
  font-weight: bold;
}
.tab.active {
  background: #d199ff;
  color: #3c0069;
}
.tab-content {
  display: none;
  background: white;
  border-radius: 15px;
  padding: 20px;
  max-width: 600px;
  margin: 0 auto;
  box-shadow: 0 0 10px rgba(0,0,0,0.1);
}
.tab-content.active {
  display: block;
}
input {
  padding: 8px;
  border-radius: 5px;
  border: 1px solid #ccc;
  min-width: 180px;
}
button {
  background: #7b00b4;
  color: white;
  border: none;
  padding: 8px 15px;
  border-radius: 8px;
  cursor: pointer;
  font-weight: bold;
}
button:hover {
  background: #50007c;
}
</style>
{% endblock %}